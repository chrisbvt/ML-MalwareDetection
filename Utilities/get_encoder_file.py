import numpy as np
import pandas as pd
import joblib
from IPython.display import display
from sklearn.feature_extraction.text import CountVectorizer
from sklearn.model_selection import train_test_split
from sklearn.metrics import roc_curve
import argparse
import random

def main():
    parser = argparse.ArgumentParser(description="File Indexer for Blue Sentry")
    parser.add_argument("--imports_file", help="The file which holds the imports prased via the ImportsIndexer", required=True)
    parser.add_argument("--encoder_write_file", help="File to write the encoder to", required=True)
    args = parser.parse_args()
    print "Data loaded!"

    text_encoding = open(args.imports_file, 'r').read()

    encoder = CountVectorizer()
    encoder = encoder.fit(text_encoding.split())
    joblib.dump(encoder, args.encoder_write_file)

if __name__ == "__main__":
    main()
